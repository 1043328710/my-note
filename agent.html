<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>事件代理</title>
</head>
<body>
	<div id="btn">我是父元素
		<p id="pp">我是子元素</p>
	</div>
	<script>
		var btn = document.getElementById('btn');
		bindEvent(btn, 'click', '#pp', function(e){
			console.log(e)
		})
		function bindEvent(el, type, selector, fn){
			if (fn == null){
				fn = selector
				selector = null
			}
			el.addEventListener(type, function(e){
				var target;
				if (selector) {
				    target = e.target
				    if (target.matches(selector)){
				    	fn.call(target, e)
				    }
				} else {
					fn(e)
				}
			})
		}
	</script>
</body>
</html>
